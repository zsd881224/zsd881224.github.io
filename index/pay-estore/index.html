<!DOCTYPE HTML>
<html lang="zh">
<head>
    <meta charset="UTF-8">
	<title> EStore - eStore </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"  />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no" />
	<meta name="format-detection" content="email=no"/>
	<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <!--Page StyleSheets-->
    <link rel="stylesheet" href="./index.css"/>
    <script src="../../assets/jquery.min.js"></script>
</head>
<body>

<img id="J_Background" src="../../assets/img/pay-estore.jpg" style="width:100%;" usemap="#index" hidefocus="true"/>
<map name="index">
    <area id="J_MenuArea" shape="rect" href="javascript:;">
    <area id="J_ConfirmArea" shape="rect" href="../confirm-estore/index.html">
</map>

<img id="J_Menu" class="menu" src="../../assets/img/menu.jpg" usemap="#menu" hidefocue="true"/>
<map name="menu">
    <area id="J_HomePage" shape="rect" href="../index/index.html"/>
    <area id="J_EStore" shape="rect" href="../estore/index.html"/>
    <area id="J_Community" shape="rect" href="../community/index.html"/>
    <area id="J_Contacts" shape="rect" href="../contacts/index.html"/>
</map>

<script>
    (function () {
        var img = $('#J_Background');

        var imgHandler = function () {
            var width = img.width();
            var height = img.height();

            var x1 = width * 0.08;
            var y1 = height * 0.03;
            var x2 = width * 0.16;
            var y2 = height * 0.07;

            var menuArea = $('#J_MenuArea');
            menuArea.attr('coords', [x1,y1,x2,y2].join(','));

            x1 = width * 0.09;
            y1 = height * 0.68;
            x2 = width * 0.52;
            y2 = height * 0.75;

            var confirmArea = $('#J_ConfirmArea');
            confirmArea.attr('coords', [x1,y1,x2,y2].join(','));

            var menuImg = $('#J_Menu');

            var menuHandler = function () {
                var menuWidth = menuImg.width();
                var menuHeight = menuImg.height();

                var menuX1 = menuWidth * 0;
                var menuY1 = menuHeight * 0;
                var menuX2 = menuWidth * 1;
                var menuY2 = menuHeight * 0.25;

                var homePage = $('#J_HomePage');
                homePage.attr('coords', [menuX1,menuY1,menuX2,menuY2].join(','));

                menuX1 = menuWidth * 0;
                menuY1 = menuHeight * 0.25;
                menuX2 = menuWidth * 1;
                menuY2 = menuHeight * 0.5;

                var eStore = $('#J_EStore');
                eStore.attr('coords', [menuX1,menuY1,menuX2,menuY2].join(','));

                menuX1 = menuWidth * 0;
                menuY1 = menuHeight * 0.5;
                menuX2 = menuWidth * 1;
                menuY2 = menuHeight * 0.75;

                var community = $('#J_Community');
                community.attr('coords', [menuX1,menuY1,menuX2,menuY2].join(','));

                menuX1 = menuWidth * 0;
                menuY1 = menuHeight * 0.75;
                menuX2 = menuWidth * 1;
                menuY2 = menuHeight * 1;

                var contacts = $('#J_Contacts');
                contacts.attr('coords', [menuX1,menuY1,menuX2,menuY2].join(','));
            };

            menuHandler();
            menuImg.bind('load', menuHandler);

            menuArea.bind('click', function () {
                menuImg.show();
            });
        };

        if(img.complete) {
            imgHandler();
        }
        else {
            img.bind('load', imgHandler);
        }
    })();
</script>

</body>
</html>